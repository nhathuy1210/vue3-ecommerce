"use strict";(self["webpackChunkvue3_ecommerce"]=self["webpackChunkvue3_ecommerce"]||[]).push([[15],{5015:function(e,r,a){a.r(r),a.d(r,{default:function(){return w}});var s=a(641),t=a(33),l=a(953),n=a(7215),c=a(4049);const u={class:"order-history"},d={class:"orders-list"},i={class:"order-header"},o={class:"order-items"},v=["src","alt"],k={class:"item-details"},p={class:"order-footer"},L={class:"order-total"},h=["onClick"],m=5;var _={__name:"UserOrderHistory",setup(e){const r=(0,n.Pj)(),a=(0,l.KR)(1),_=(0,s.EW)((()=>r.getters["order/getUserOrders"])),C=(0,s.EW)((()=>Math.ceil(_.value.length/m))),g=e=>new Date(e).toLocaleDateString(),y=async e=>{confirm("Are you sure you want to cancel this order?")&&await r.dispatch("order/cancelOrder",e)},E=e=>{a.value=e};return(0,s.sV)((async()=>{await r.dispatch("order/fetchUserOrders")})),(e,r)=>((0,s.uX)(),(0,s.CE)("div",u,[r[0]||(r[0]=(0,s.Lk)("h2",null,"Order History",-1)),(0,s.Lk)("div",d,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(_.value,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"order-card"},[(0,s.Lk)("div",i,[(0,s.Lk)("span",null,"Order #"+(0,t.v_)(e.id),1),(0,s.Lk)("span",null,(0,t.v_)(g(e.date)),1),(0,s.Lk)("span",{class:(0,t.C4)(["status",e.status])},(0,t.v_)(e.status),3)]),(0,s.Lk)("div",o,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.items,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"order-item"},[(0,s.Lk)("img",{src:e.image,alt:e.name},null,8,v),(0,s.Lk)("div",k,[(0,s.Lk)("h4",null,(0,t.v_)(e.name),1),(0,s.Lk)("p",null,"Quantity: "+(0,t.v_)(e.quantity),1),(0,s.Lk)("p",null,"Price: $"+(0,t.v_)(e.price),1)])])))),128))]),(0,s.Lk)("div",p,[(0,s.Lk)("div",L," Total: $"+(0,t.v_)(e.total),1),"pending"===e.status?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:r=>y(e.id),class:"cancel-button"}," Cancel Order ",8,h)):(0,s.Q3)("",!0)])])))),128))]),(0,s.bF)(c.A,{"current-page":a.value,"total-pages":C.value,onPageChange:E},null,8,["current-page","total-pages"])]))}};const C=_;var g=C;const y={class:"orders-view"};var E={__name:"OrderView",setup(e){return(e,r)=>((0,s.uX)(),(0,s.CE)("div",y,[r[0]||(r[0]=(0,s.Lk)("h1",null,"My Orders",-1)),(0,s.bF)(g)]))}},O=a(6262);const f=(0,O.A)(E,[["__scopeId","data-v-8b332218"]]);var w=f}}]);
//# sourceMappingURL=15.8f1c8424.js.map