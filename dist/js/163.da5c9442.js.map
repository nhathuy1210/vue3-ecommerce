{"version":3,"file":"js/163.da5c9442.js","mappings":"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","sources":["webpack://vue3-ecommerce/./src/components/admin/AdminProductList.vue","webpack://vue3-ecommerce/./src/components/admin/AdminProductList.vue?ac08","webpack://vue3-ecommerce/./src/views/admin/AdminProductView.vue"],"sourcesContent":["<template>\r\n    <div class=\"admin-products\">\r\n      <div class=\"header\">\r\n        <div class=\"search-bar\">\r\n        <input \r\n          type=\"text\" \r\n          v-model=\"searchQuery\" \r\n          placeholder=\"Search products...\"\r\n          @input=\"filterProducts\"\r\n        >\r\n        </div>\r\n          <button @click=\"showAddModal = true\">Add New Product</button>\r\n      </div>\r\n  \r\n      <div class=\"products-table\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Image</th>\r\n              <th>Name</th>\r\n              <th>Category</th>\r\n              <th>Price</th>\r\n              <th>Stock</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"product in filteredProducts\" :key=\"product.id\">\r\n              <td><img :src=\"product.image\" :alt=\"product.name\"></td>\r\n              <td>{{ product.name }}</td>\r\n              <td>{{ product.category }}</td>\r\n              <td>${{ product.price }}</td>\r\n              <td>{{ product.stock }}</td>\r\n              <td>\r\n                <button @click=\"editProduct(product)\">Edit</button>\r\n                <button @click=\"deleteProduct(product.id)\">Delete</button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n  \r\n      <!-- Add/Edit Product Modal -->\r\n      <div v-if=\"showAddModal || showEditModal\" class=\"modal\">\r\n        <div class=\"modal-content\">\r\n          <h3>{{ showEditModal ? 'Edit Product' : 'Add New Product' }}</h3>\r\n          <form @submit.prevent=\"handleSubmit\">\r\n            <div class=\"form-group\">\r\n              <label>Name</label>\r\n              <input type=\"text\" v-model=\"productForm.name\" required>\r\n            </div>\r\n            \r\n            <div class=\"form-group\">\r\n              <label>Category</label>\r\n              <select v-model=\"productForm.category\" required>\r\n                <option v-for=\"cat in categories\" :key=\"cat\" :value=\"cat\">\r\n                  {{ cat }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n            \r\n            <div class=\"form-group\">\r\n              <label>Price</label>\r\n              <input type=\"number\" v-model=\"productForm.price\" step=\"0.01\" required>\r\n            </div>\r\n            \r\n            <div class=\"form-group\">\r\n              <label>Stock</label>\r\n              <input type=\"number\" v-model=\"productForm.stock\" required>\r\n            </div>\r\n            \r\n            <div class=\"form-group\">\r\n              <label>Description</label>\r\n              <textarea v-model=\"productForm.description\" required></textarea>\r\n            </div>\r\n            \r\n            <div class=\"form-group\">\r\n              <label>Image URL</label>\r\n              <input type=\"url\" v-model=\"productForm.image\" required>\r\n            </div>\r\n            \r\n            <div class=\"modal-actions\">\r\n              <button type=\"submit\">\r\n                {{ showEditModal ? 'Update' : 'Add' }} Product\r\n              </button>\r\n              <button type=\"button\" @click=\"closeModal\">Cancel</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n <script setup>\r\n import { ref, computed, onMounted } from 'vue'\r\n import { useStore } from 'vuex'\r\n \r\n const store = useStore()\r\n const showAddModal = ref(false)\r\n const showEditModal = ref(false)\r\n const searchQuery = ref('')\r\n const loading = ref(false)\r\n \r\n const productForm = ref({\r\n   id: null,\r\n   name: '',\r\n   category: '',\r\n   price: 0,\r\n   stock: 0,\r\n   description: '',\r\n   image: ''\r\n })\r\n \r\n const products = computed(() => store.getters['product/getAllProducts'])\r\n const categories = computed(() => store.getters['product/getAllCategories'])\r\n \r\n const filteredProducts = computed(() => {\r\n   if (!searchQuery.value) return products.value\r\n   return products.value.filter(product => \r\n     product.name.toLowerCase().includes(searchQuery.value.toLowerCase()) ||\r\n     product.category.toLowerCase().includes(searchQuery.value.toLowerCase())\r\n   )\r\n })\r\n \r\n const editProduct = (product) => {\r\n   // Ensure we create a new object with all properties\r\n   productForm.value = {\r\n     id: product.id,\r\n     name: product.name,\r\n     category: product.category,\r\n     price: Number(product.price),\r\n     stock: Number(product.stock),\r\n     description: product.description,\r\n     image: product.image\r\n   }\r\n   showEditModal.value = true\r\n }\r\n \r\n const deleteProduct = async (productId) => {\r\n   if (!productId) {\r\n     alert('Invalid product ID')\r\n     return\r\n   }\r\n \r\n   if (confirm('Are you sure you want to delete this product?')) {\r\n     loading.value = true\r\n     try {\r\n       const result = await store.dispatch('product/deleteProduct', Number(productId))\r\n       if (result && result.success) {\r\n         alert('Product deleted successfully')\r\n         // Refresh the products list\r\n         await store.dispatch('product/fetchProducts')\r\n       } else {\r\n         throw new Error('Failed to delete product')\r\n       }\r\n     } catch (error) {\r\n       console.error('Delete failed:', error)\r\n       alert(`Failed to delete product: ${error.message}`)\r\n     } finally {\r\n       loading.value = false\r\n     }\r\n   }\r\n }\r\n \r\n const handleSubmit = async () => {\r\n   if (!productForm.value.name || !productForm.value.category) {\r\n     alert('Please fill in all required fields')\r\n     return\r\n   }\r\n \r\n   loading.value = true\r\n   try {\r\n     if (showEditModal.value) {\r\n       const result = await store.dispatch('product/updateProduct', {\r\n         ...productForm.value,\r\n         id: Number(productForm.value.id),\r\n         price: Number(productForm.value.price),\r\n         stock: Number(productForm.value.stock)\r\n       })\r\n       if (result) {\r\n         alert('Product updated successfully')\r\n         await store.dispatch('product/fetchProducts')\r\n       }\r\n     } else {\r\n       await store.dispatch('product/addProduct', {\r\n         ...productForm.value,\r\n         price: Number(productForm.value.price),\r\n         stock: Number(productForm.value.stock)\r\n       })\r\n       alert('Product added successfully')\r\n     }\r\n     closeModal()\r\n   } catch (error) {\r\n     console.error('Submit failed:', error)\r\n     alert(`Failed to save product: ${error.message}`)\r\n   } finally {\r\n     loading.value = false\r\n   }\r\n }\r\n \r\n const closeModal = () => {\r\n   showAddModal.value = false\r\n   showEditModal.value = false\r\n   productForm.value = {\r\n     id: null,\r\n     name: '',\r\n     category: '',\r\n     price: 0,\r\n     stock: 0,\r\n     description: '',\r\n     image: ''\r\n   }\r\n }\r\n \r\n onMounted(async () => {\r\n   loading.value = true\r\n   try {\r\n     await store.dispatch('product/fetchProducts')\r\n   } catch (error) {\r\n     console.error('Failed to fetch products:', error)\r\n     alert('Failed to load products')\r\n   } finally {\r\n     loading.value = false\r\n   }\r\n })\r\n </script>\r\n \r\n <style scoped>\r\n .admin-products {\r\n   padding: var(--spacing-lg);\r\n }\r\n \r\n .header {\r\n   display: flex;\r\n   justify-content: space-between;\r\n   align-items: center;\r\n   margin-bottom: var(--spacing-xl);\r\n }\r\n\r\n .search-bar {\r\n  flex: 1;\r\n  max-width: 300px;\r\n}\r\n\r\n.search-bar input {\r\n  width: 100%;\r\n  padding: 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: var(--radius-md);\r\n  font-size: 14px;\r\n  transition: border-color 0.3s ease;\r\n}\r\n\r\n.search-bar input:focus {\r\n  border-color: #3498db;\r\n  outline: none;\r\n  box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.1);\r\n}\r\n\r\n \r\n .header h2 {\r\n   color: var(--text-color);\r\n   font-size: var(--title);\r\n }\r\n \r\n .header button {\r\n  background: #3498db;\r\n   color: white;\r\n   padding: 12px 24px;\r\n   border: none;\r\n   border-radius: var(--radius-md);\r\n   font-weight: 500;\r\n   cursor: pointer;\r\n   transition: all 0.3s ease;\r\n   margin-left: 20px;\r\n }\r\n \r\n .header button:hover {\r\n   background: #2980b9;\r\n   transform: translateY(-2px);\r\n }\r\n \r\n .products-table {\r\n   background: white;\r\n   border-radius: var(--radius-lg);\r\n   box-shadow: var(--shadow-md);\r\n   overflow: hidden;\r\n }\r\n \r\n table {\r\n   width: 100%;\r\n   border-collapse: collapse;\r\n }\r\n \r\n th {\r\n   background: var(--gray-bg);\r\n   padding: 16px;\r\n   text-align: left;\r\n   font-weight: 600;\r\n   color: var(--text-color);\r\n }\r\n \r\n td {\r\n   padding: 16px;\r\n   border-bottom: 1px solid #eee;\r\n }\r\n \r\n td img {\r\n   width: 60px;\r\n   height: 60px;\r\n   object-fit: cover;\r\n   border-radius: var(--radius-sm);\r\n }\r\n \r\n td button {\r\n   padding: 8px 16px;\r\n   border: none;\r\n   border-radius: var(--radius-sm);\r\n   cursor: pointer;\r\n   transition: all 0.3s ease;\r\n   margin-right: 8px;\r\n }\r\n \r\n td button:first-child {\r\n  background: #3498db;\r\n   color: white;\r\n }\r\n \r\n td button:last-child {\r\n  background: #e74c3c;\r\n   color: white;\r\n }\r\n \r\n td button:hover {\r\n   opacity: 0.9;\r\n   transform: translateY(-1px);\r\n }\r\n \r\n /* Modal Styles */\r\n .modal {\r\n   position: fixed;\r\n   top: 0;\r\n   left: 0;\r\n   width: 100%;\r\n   height: 100%;\r\n   background: rgba(0, 0, 0, 0.5);\r\n   display: flex;\r\n   justify-content: center;\r\n   align-items: center;\r\n   z-index: 1000;\r\n }\r\n\r\n\r\n .modal-content {\r\n   background: white;\r\n   padding: var(--spacing-xl);\r\n   border-radius: var(--radius-lg);\r\n   width: 500px;\r\n   max-width: 90%;\r\n   max-height: 90vh;\r\n   overflow-y: auto;\r\n }\r\n \r\n .modal-content h3 {\r\n   margin-bottom: var(--spacing-lg);\r\n   color: var(--text-color);\r\n   font-size: var(--heading);\r\n }\r\n \r\n .form-group {\r\n   margin-bottom: var(--spacing-md);\r\n }\r\n \r\n .form-group label {\r\n   display: block;\r\n   margin-bottom: 8px;\r\n   font-weight: 500;\r\n   color: var(--text-color);\r\n }\r\n \r\n .form-group input,\r\n .form-group select,\r\n .form-group textarea {\r\n   width: 100%;\r\n   padding: 12px;\r\n   border: 1px solid #ddd;\r\n   border-radius: var(--radius-sm);\r\n   transition: border-color 0.3s ease;\r\n }\r\n \r\n .form-group input:focus,\r\n .form-group select:focus,\r\n .form-group textarea:focus {\r\n   border-color: var(--primary-color);\r\n   outline: none;\r\n }\r\n \r\n .modal-actions {\r\n   display: flex;\r\n   justify-content: flex-end;\r\n   gap: var(--spacing-md);\r\n   margin-top: var(--spacing-lg);\r\n }\r\n \r\n .modal-actions button {\r\n   padding: 12px 24px;\r\n   border: none;\r\n   border-radius: var(--radius-sm);\r\n   cursor: pointer;\r\n   transition: all 0.3s ease;\r\n }\r\n \r\n .modal-actions button[type=\"submit\"] {\r\n  background: #3498db;\r\n   color: white;\r\n }\r\n \r\n .modal-actions button[type=\"button\"] {\r\n   background: #95a5a6;\r\n   color: white;\r\n }\r\n \r\n .modal-actions button:hover {\r\n   opacity: 0.9;\r\n   transform: translateY(-1px);\r\n }\r\n </style>\r\n ","import script from \"./AdminProductList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AdminProductList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AdminProductList.vue?vue&type=style&index=0&id=5e5b92d0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5e5b92d0\"]])\n\nexport default __exports__","import script from \"./AdminProductView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AdminProductView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AdminProductView.vue?vue&type=style&index=0&id=47a46309&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-47a46309\"]])\n\nexport default __exports__"],"names":["store","useStore","showAddModal","ref","showEditModal","searchQuery","loading","productForm","id","name","category","price","stock","description","image","products","computed","getters","categories","filteredProducts","value","filter","product","toLowerCase","includes","editProduct","Number","deleteProduct","async","productId","confirm","result","dispatch","success","Error","alert","error","console","message","handleSubmit","closeModal","onMounted","__exports__"],"sourceRoot":""}